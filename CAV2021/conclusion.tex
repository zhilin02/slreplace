%!TEX root = main.tex

\section{Related Work and Conclusion}\label{sec-related}

RWREs have been investigated in formal language theory. Regular expressions with capturing groups and backreferences were considered in \cite{CSY03,CN09} and also more recently in \cite{Freydenberger13,Schmid16,FS19}, where the expressibility issues and decision problems were investigated. Nevertheless, some basic features of RWREs, namely, the non-commutative union and the greedy/lazy semantics of Kleene star/plus, were not addressed therein.

Prioritized finite-state automata and prioritized finite-state transducers were proposed in \cite{BM17}. Prioritized finite-state transducers add indexed brackets to the input string in order to identify the matches of capturing groups. It is hard, if not impossible, to use prioritized finite-state transducers to model replace(all) function in general, e.g. swapping the first and last name as in Example~\ref{exmp-name-swap}. In contrast, PSSTs store the matches of capturing groups into string variables, which can then be referred to, thus allowing us to conveniently model the match and replace(all) function. 
%
Streaming string transducers were used in \cite{ZAM19} to solve the straight-line string constraints with concatenation, finite-state transducers, and regular constraints.

RWREs have also received attention in the software engineering community. Some empirical studies were reported for RWREs recently, including portability across different programing languages \cite{DMC+19} and DDos attacks \cite{SP18}, as well as how programmers write RWREs in practice \cite{MDD+19}.

%\section{Conclusion}

%Real-world regular expressions (RWRE) in programming languages differ drastically from classical regular expressions, for instance, they adopt the greedy/lazy semantics of Kleene star and include new features of capturing groups and back references. 
To conclude, in this paper, we proposed a novel approach for natively supporting real-world regular expressions (RWRE) in string constraint solving. We introduced prioritized streaming string transducers (PSSTs) to  model the string functions involving real-world regular expressions. We showed that the pre-images of regular languages under PSSTs are regular and designed a decision procedure for string constraints with RWREs. We implemented the decision procedure and carried out extensive experiments. The experimental results showed that our approach significantly improves the CEGAR-based approach for RWREs in both precision and performance. To the best of our knowledge, this work represents the first string constraint solver that natively supports RWREs. For the future work, it is interesting to extend this work to deal with more advanced features of RWREs, e.g., lookahead and lookbehind. It is also desirable to support the string functions involving the integer data type, in addition to those involving RWREs.
